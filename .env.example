# ============================================================================
# Build-o-Matic Environment Variables
# Sprint 2 & 3 - Enterprise Premium Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/buildomatic
DATABASE_POOL_SIZE=20
DATABASE_MAX_CONNECTIONS=100

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
PORT=3000
NODE_ENV=development
LOG_LEVEL=info

# ----------------------------------------------------------------------------
# Authentication (Auth0 / Clerk) - NEW in Sprint 2
# ----------------------------------------------------------------------------
# Auth0 Configuration
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_AUDIENCE=https://build-o-matic-api
AUTH0_CLIENT_ID=your-auth0-client-id
AUTH0_CLIENT_SECRET=your-auth0-client-secret

# OR Clerk Configuration (choose one)
# CLERK_SECRET_KEY=sk_live_xxxxx
# CLERK_PUBLISHABLE_KEY=pk_live_xxxxx

# Development Auth Bypass (NEVER use in production!)
DEV_AUTH_BYPASS=false

# ----------------------------------------------------------------------------
# UBL (Universal Business Ledger) Integration
# ----------------------------------------------------------------------------
# UBL Antenna URL
UBL_ANTENNA_URL=http://localhost:3000

# Master API Key (server-side only - NEVER expose to frontend)
UBL_MASTER_KEY=your-ubl-master-api-key

# Legacy API Key (deprecated - will be replaced by scoped tokens)
UBL_API_KEY=your-ubl-api-key

# ----------------------------------------------------------------------------
# Frontend Configuration (Client-Side)
# ----------------------------------------------------------------------------
# Auth0 Frontend (exposed to browser)
VITE_AUTH0_DOMAIN=your-tenant.auth0.com
VITE_AUTH0_CLIENT_ID=your-auth0-client-id
VITE_AUTH0_AUDIENCE=https://build-o-matic-api

# UBL Client Configuration
VITE_UBL_API_URL=http://localhost:3000
# Note: VITE_UBL_API_KEY is now generated per-realm via scoped tokens

# ----------------------------------------------------------------------------
# Deployment Configuration
# ----------------------------------------------------------------------------
# Railway
RAILWAY_TOKEN=your-railway-token

# Render
RENDER_API_KEY=your-render-api-key

# Docker Registry
DOCKER_REGISTRY_URL=registry.hub.docker.com
DOCKER_REGISTRY_USERNAME=your-docker-username
DOCKER_REGISTRY_PASSWORD=your-docker-password

# ----------------------------------------------------------------------------
# Payment & Billing (Stripe)
# ----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# ----------------------------------------------------------------------------
# Email (SendGrid)
# ----------------------------------------------------------------------------
SENDGRID_API_KEY=SG.xxxxx
SENDGRID_FROM_EMAIL=noreply@build-o-matic.com
SENDGRID_FROM_NAME=Build-o-Matic

# ----------------------------------------------------------------------------
# Monitoring & Observability
# ----------------------------------------------------------------------------
# Sentry Error Tracking
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
SENTRY_ENVIRONMENT=development

# DataDog APM
DD_API_KEY=xxxxx
DD_APP_KEY=xxxxx
DD_SERVICE_NAME=build-o-matic
DD_ENV=development

# ----------------------------------------------------------------------------
# Rate Limiting (Redis)
# ----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
ENABLE_SCOPED_TOKENS=true
ENABLE_RATE_LIMITING=true
ENABLE_SAGA_PATTERN=true
ENABLE_LIVE_PREVIEW=true
ENABLE_DOCS_GENERATION=true

# ----------------------------------------------------------------------------
# Security
# ----------------------------------------------------------------------------
# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# JWT Secret (for internal token generation)
JWT_SECRET=your-random-256-bit-secret-change-in-production
JWT_EXPIRY=24h

# Session Secret
SESSION_SECRET=your-session-secret-change-in-production

# Encryption Key (for sensitive data at rest)
ENCRYPTION_KEY=your-encryption-key-32-chars-min

# ----------------------------------------------------------------------------
# Third-Party Integrations
# ----------------------------------------------------------------------------
# Slack (for notifications)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxxxx
SLACK_BOT_TOKEN=xoxb-xxxxx

# GitHub (for template management)
GITHUB_TOKEN=ghp_xxxxx
GITHUB_REPO=your-org/build-o-matic-templates

# ----------------------------------------------------------------------------
# Advanced Configuration
# ----------------------------------------------------------------------------
# Template Cache TTL (seconds)
TEMPLATE_CACHE_TTL=3600

# Max Tool Generation Time (seconds)
MAX_GENERATION_TIME=300

# Max Zip Archive Size (bytes)
MAX_ZIP_SIZE=104857600

# Concurrent Generation Limit
MAX_CONCURRENT_GENERATIONS=5

# ----------------------------------------------------------------------------
# Development Tools
# ----------------------------------------------------------------------------
# Enable detailed SQL logging
DEBUG_SQL=false

# Enable API request logging
DEBUG_API=false

# Enable performance profiling
ENABLE_PROFILING=false

# ----------------------------------------------------------------------------
# Testing
# ----------------------------------------------------------------------------
# Test Database
TEST_DATABASE_URL=postgresql://user:password@localhost:5432/buildomatic_test

# Test Auth Bypass
TEST_AUTH_BYPASS=true

# ----------------------------------------------------------------------------
# Notes
# ----------------------------------------------------------------------------
# 1. Never commit this file with real credentials
# 2. Copy to .env and fill in actual values
# 3. Keep .env in .gitignore
# 4. Use different values for dev/staging/production
# 5. Rotate secrets regularly
# 6. Use a secrets management service in production (AWS Secrets Manager, Vault, etc.)
